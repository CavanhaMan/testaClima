<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Testa Clima IFTM</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  </head>
  <!--body onload="getLocation()"-->
  <body>
    <label for="usarLocal">Quer usar a sua localização atual?</label>
    <input type="checkbox" id="usarLocal" name="usarLocal" value="1">
    <button onclick="getLocation()" id="localOk" disabled>Ok</button>
  <p id="saida"></p>

<script>
  $("#usarLocal").click(function() {
    $("#localOk").attr("disabled", !this.checked);
  });
</script>



<script>
var x=document.getElementById("saida");
function getLocation(){
  if (navigator.geolocation){
    navigator.geolocation.getCurrentPosition(showPosition,showError);
    }
  else{
    x.innerHTML="Seu navegador não suporta Geolocalização.";}
  }
function showPosition(position){
  x.innerHTML="Latitude: " + position.coords.latitude + 
  "<br>Longitude: " + position.coords.longitude;  
  }
function showError(error){
  switch(error.code) {
    case error.PERMISSION_DENIED:
      x.innerHTML="Solicitação de Geolocalização negada."
      break;
    case error.POSITION_UNAVAILABLE:
      x.innerHTML="Localização indisponível."
      break;
    case error.TIMEOUT:
      x.innerHTML="A requisição expirou."
      break;
    case error.UNKNOWN_ERROR:
      x.innerHTML="Erro desconhecido."
      break;
    }
  }
</script>
</body>
</html>